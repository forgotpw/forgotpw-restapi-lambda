'use strict';

// tests for fpw-pwhint-api
// Generated by serverless-mocha-plugin

const mochaPlugin = require('serverless-mocha-plugin');
const expect = mochaPlugin.chai.expect;
let wrapped = mochaPlugin.getWrapper('fpw-pwhint-api', '/index.js', 'handler');

const eventData = require('../events/ValidApiGatewayRequest.json')
const invalidEventData = require('../events/InvalidApiGatewayRequest.json')

describe('fpw-pwhint-api', () => {
  before((done) => {
    done();
  });

  it('returns 200 for valid requests', () => {
    return wrapped.run(eventData).then((response) => {
      expect(response.statusCode).to.equal(200);
    });
  });

  it('returns 400 for invalid requests', () => {
    return wrapped.run(invalidEventData).then((response) => {
      expect(response.statusCode).to.equal(400);
    });
  });

});
